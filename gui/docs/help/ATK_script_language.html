<html>
<head>
  <link rel="stylesheet" type="text/css" href="styles.css"/>
  <script type="text/javascript" src="menu.js"></script>
  <title>ATK User Guide</title>
</head>
<body>
<div id="content">

<h1>ATK Script Language</h1>

ATK test files are written in a simple script language. Here is a description of each command 
script of this language.<br/>
Please note that some commands may not be implemented on some device platforms, so
we indicate on which platform each command is supported. S60 phones use their own script language format.<br/><br/>
A command supported by all platforms, means is supported by Android, Mediatek, Sony Ericsson and Samsung.
<br/><br/>
<CENTER>
<div id="letter">
<a href="#B_letter"> B </a> 
<a href="#D_letter"> D </a> 
<a href="#I_letter"> I </a> 
<a href="#K_letter"> K </a> 
<a href="#L_letter"> L </a> 
<a href="#R_letter"> R </a> 
<a href="#S_letter"> S </a> 
<a href="#T_letter"> T </a>
</div>
</CENTER>

<a name="B_letter"></a>
<p>Beep</p>
<b>Supported by platforms:</b> Sony Ericsson.<br/></br>
Ask phone to make "beep" sound.
<br/>  <br/>  

<a name="D_letter"></a>
<p>DisableUSBCharge</p>
<b>Supported by platforms:</b> Sony Ericsson.<br/></br>
Ask phone to disable USB charging mode.
<br/> <br/>   

<a name="I_letter"></a>
<p>Include(STRING script_file_path)</p>
<b>Parameter script_file_path:</b> path (relative from the current script, or absolute) of the script file to include.</br>
<b>Supported by platforms:</b> All.</br></br>
Include the commands of the specified script file into the current script. These commands will be executed by ATK
as if they were inside the current script file.
<br/>  <br/>

<a name="K_letter"></a>
<p>Key(STRING key_code)</p>
<b>Parameter key_code:</b> phone key code (platform dependant).</br>
<b>Supported by platforms :</b> All.<br/></br>
Ask phone to simulate a press on the specified key.
<br/>  <br/>

<p>Key(STRING key_code, INTEGER time_press)</p>
<b>Parameter key_code:</b> phone key code (platform dependant).</br>
<b>Parameter time_press:</b> time (in ms) phone keep the key pressed.</br>
<b>Supported by platforms :</b> all.<br/></br>
Ask phone to simulate a press on the specified key during the specified time.
<br/>  <br/>

<p>Key(STRING key_code, INTEGER press_time, INTEGER delay_time)</p>
<b>Parameter key_code:</b> phone key code (platform dependant).</br>
<b>Parameter press_time:</b> time (in ms) phone keep the key pressed (limited to 25 s. on all platform except Android).</br>
<b>Parameter delay_time:</b> time (in ms) phone wait before performing next action after key press (limited to 25 s. on all platform except Android).</br>
<b>Supported by platforms:</b> Mediatek, Samsung, Sony Ericsson. Supported by Android, but delay parameter will be ignored.<br/></br>
Ask phone to simulate a press on the specified key during the specified time, then pause during the specified delay.<br/></br>

We would recommend to keep delay parameter to 0, and use Sleep command instead. If you set delay_time parameter in Key command, and use
a Sleep command after, keep in mind that the real pause time will be max(delay_time, sleep_time).
<br/>  <br/>
   
<p>KeyDown(STRING key_code)</p>
<b>Parameter key_code:</b> phone key code (platform dependant).</br>
<b>Supported by platforms:</b> Sony Ericsson, Android.<br/></br>
Ask phone to simulate a press down on the specified key.<br/></br>

<p>KeyUp(STRING key_code)</p>
<b>Parameter key_code:</b> phone key code (platform dependant).</br>
<b>Supported by platforms:</b> Sony Ericsson, Android.<br/></br>
Ask phone to simulate a press up on the specified key.<br/></br>

<p>Kill(STRING application_id)</p>
<b>Parameter application_id:</b>: application identifier (platform dependant).</br>
<b>Supported by platforms:</b> Sony Ericsson (application id = midlet name).<br/></br>
Ask phone to stop or kill the specified application.<br/></br>

<a name="L_letter"></a>
<p>Log(STRING label)</p>
<b>Parameter label:</b> log trace label.</br>
<b>Supported by platforms:</b> All.<br/></br>
Adds a log trace in test results. This log trace will appear in the test 
graph result, when you select "Log" marker. See the "<b><a href="tool_graph_analyzer.html">Graph Analyzer</a></b>"
section for more informations about markers.<br/></br>

<a name="R_letter"></a>
<p>Run(STRING application)</p>
<b>Parameter application:</b> application identifier (platform dependant).</br>
<b>Supported by platforms:</b> Android (application id = activity identifier, for example com.google.android.contacts/.ContactsActivity),
Samsung (application id = midlet name), Sony Ericsson (application id = midlet name).<br/></br>
Ask phone to start the specified application.<br/></br>
	
<a name="S_letter"></a>
<p>Screenshot</p>
<b>Supported by platforms : all.</b> <br/></br>
Ask phone to take a screenshot of its current screen display. The screenshot is saved in a file named
    &lt;timestamp&gt;.jpg in the reference screenshot folder.<br/></br>        

<p>Screenshot(STRING screenshot_id)</p>
<b>Parameter screenshot_id:</b> screenshot identifier.</br>
<b>Supported by platforms :</b> All. <br/></br>
Ask phone to take a screenshot of its current screen display. The screenshot is saved in a file named
	screenshot_id_&lt;timestamp&gt;.jpg in the reference screenshot folder.<br/></br>        

<i><b>Note :</b> You can set a rotation option for the screenshots. In ATK, select "Edit" > "Configuration menu" > "Screenshots", then 
choose rotation option (90&deg; left, 90&deg; right, 180&deg; or no rotation). All screenshots performed in ATK or Script Recorder 
tests will apply configured rotation option.</i>
<br/></br>

<p>SendSMS(STRING phoneNumber, STRING message)</p>
<b>Parameter phoneNumber:</b> message recipient's phone number.</br>
<b>Parameter message:</b> message content.</br>
<b>Supported by platforms : Sony Ericsson.</b> <br/></br>
Ask phone to send a SMS containing the specified message to the specified recipient.<br/></br>


<p>SetFlightMode(STRING mode)</p>
<b>Parameter mode:</b> "on" to enable flight mode, "off" to disable flight mode.</br>
<b>Supported by platforms :</b>  Android, Sony Ericsson.<br/></br>
Ask phone to set flight mode ON or OFF.<br/></br>

<p>SetVar(STRING varName, INTEGER value)</p>
<b>Parameter varName:</b> the variable name.</br>
<b>Parameter value:</b> the variable integer value.</br>
<b>Supported by platforms :</b>  All.<br/></br>
Defines a script variable. To use the variable in a script command, just prefix its name by "_".</br>
For example :</br>
	<i>SetVar(tempo,1000)</br>
	Sleep(_tempo) // _tempo will be replaced by 1000</i> <br/></br>
	
<p>SetVar(STRING varName, STRING value)</p>
<b>Parameter varName:</b> the variable name.</br>
<b>Parameter value:</b> the variable string value.</br>
<b>Supported by platforms :</b>  All.<br/></br>
Defines a script variable. To use the variable in a script command, just prefix its name by "_".</br>
For example :</br>
    <i>SetVar(phoneNumber,+3306666666)</br>
    SendSMS(_phoneNumber, hello) // _phoneNumber will be replaced by +3306666666</i> <br/></br>

<p>Sleep(INTEGER time)</p>
<b>Parameter time:</b> sleep time (in ms).</br>
<b>Supported by platforms :</b> All.<br/></br>
Do nothing during the specified time (used to add delay between two script commands).<br/></br>        
        
<p>StartMainLog</p>
<b>Supported by platforms :</b> All. <br/></br>
Ask phone to start monitoring its ressources consumption. A measurment is done every 500ms. See the "<b><a href="tool_graph_analyzer.html">Graph Analyzer</a></b>"
section to know how minotoring results can be analyzed.<br/></br>

<p>StartMainLog(INTEGER sampling_time)</p>
<b>Parameter sampling_time</b> time (in ms) between two measurment.</br>
<b>Supported by platforms :</b> All. <br/></br>
Ask phone to start monitoring its ressources consumption, with the specified time between two measurments. See the "<b><a href="tool_graph_analyzer.html">Graph Analyzer</a></b>"
section to know how minotoring results can be analyzed.<br/></br>

<p>StopMainLog</p>
<b>Supported by platforms :</b> All.<br/></br>
Ask phone to stop monitoring its ressources consumption. Results are stored in a folder which has the same name as the 
test file.<br/></br>

<a name="T_letter"></a>
<p>TouchScreenDragnDrop(TABLE({INTEGER x,INTEGER y,INTEGER time}))</p>
<b>Parameter x:</b> x coordinate of a touch press action.</br>
<b>Parameter y:</b> y coordinate of a touch press action.</br>
<b>Parameter time:</b> time (in ms) of a touch press action.</br>
<b>Supported by platforms :</b> Android, Mediatek, Samsung<br/></br>
Ask phone to perform a touchscreen drag & drop action, using the specified set of touch press coordinates.
It is recommended to use the ATK "<b><a href="tool_script_recorder.html">Script Recorder</a></b>" tool to generate automatically TouchScreenDragnDrop script command.

<p>TouchScreenPress(INTEGER x, INTEGER y, INTEGER time)</p>
<b>Parameter x:</b> x coordinate of a touch press action.</br>
<b>Parameter y:</b> y coordinate of a touch press action.</br>
<b>Parameter time:</b> time (in ms) of a touch press action.</br>
<b>Supported by platforms :</b> Android, Mediatek, Samsung<br/></br>
Ask phone to perform a touchscreen press action on the specified screen coordinates during the specified time.

<p>TouchScreenSlide(TABLE({INTEGER x,INTEGER y,INTEGER time}))</p>
<b>Parameter x:</b> x coordinate of a touch press action.</br>
<b>Parameter y:</b> y coordinate of a touch press action.</br>
<b>Parameter time:</b> time (in ms) of a touch press action.</br>
<b>Supported by platforms :</b> Android, Mediatek, Samsung<br/></br>
Ask phone to perform a touchscreen slide action, using the specified set of touch press coordinates.
It is recommended to use the ATK "<b><a href="tool_script_recorder.html">Script Recorder</a></b>" tool to generate automatically TouchScreenDragnDrop script command.

</div>	
</body>
</html>
